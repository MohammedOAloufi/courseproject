{% load static %}

<section class="products">
  <h2>منتجات مميزة</h2>

  <div class="product-grid">

    {% for product in products %}
      <div class="card">

        <h3>{{ product.name }}</h3>

        <span class="price">
          {{ product.final_price }} ر.س
        </span>

        {% if product.stock and product.stock.quantity > 0 %}
          <span class="status">● متوفر</span>
          <button class="add-btn">إضافة للسلة</button>
        {% else %}
          <span class="status" style="color:#dc2626;">● غير متوفر</span>
          <button class="add-btn"
                  disabled
                  style="background:#9ca3af;cursor:not-allowed;">
            غير متوفر
          </button>
        {% endif %}

      </div>
    {% empty %}
      <p style="text-align:center;color:#6b7280;">
        لا توجد منتجات حالياً
      </p>
    {% endfor %}

  </div>
</section>
